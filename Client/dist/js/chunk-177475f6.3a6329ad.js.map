{"version":3,"sources":["webpack:///./src/views/Submissions.vue?af54","webpack:///./src/views/Submissions.vue?4457","webpack:///src/views/Submissions.vue","webpack:///./src/views/Submissions.vue?6d16","webpack:///./src/views/Submissions.vue?0d9a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","allFormsIds","on","setAnswersOfForm","scopedSlots","_u","key","fn","_v","proxy","model","value","callback","$$v","form_id","expression","_s","heading","answers","length","_e","staticRenderFns","component"],"mappings":"kHAAA,yBAA0e,EAAG,G,gECA7e,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,gBAAgB,CAACE,YAAY,SAASC,MAAM,CAAC,QAAUP,EAAIQ,YAAY,UAAY,GAAG,KAAO,MAAMC,GAAG,CAAC,OAAST,EAAIU,kBAAkBC,YAAYX,EAAIY,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACV,EAAG,uBAAuB,CAACG,MAAM,CAAC,MAAQ,KAAK,SAAW,KAAK,CAACP,EAAIe,GAAG,wCAAwCC,OAAM,KAAQC,MAAM,CAACC,MAAOlB,EAAW,QAAEmB,SAAS,SAAUC,GAAMpB,EAAIqB,QAAQD,GAAKE,WAAW,aAA6B,MAAftB,EAAIqB,SAAmBrB,EAAIqB,SAAW,EAAGjB,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIe,GAAGf,EAAIuB,GAAGvB,EAAIwB,YAAaxB,EAAIyB,QAAQC,OAAS,EAAGtB,EAAG,UAAU,CAACG,MAAM,CAAC,QAAU,GAAG,MAAQ,GAAG,QAAU,KAAK,SAAW,GAAG,qBAAqB,GAAG,MAAQP,EAAIyB,WAAWrB,EAAG,KAAK,CAACJ,EAAIe,GAAG,yBAAyB,GAAGf,EAAI2B,MAAM,IAC5zBC,EAAkB,G,0ECwBtB,E,gGAAA,qHAGA,IACA,OACA,kBAGA,OAFA,oBACA,SACA,KACA,mBAEA,OADA,gCACA,QAXA,gCAcA,GAdA,2C,iCAiBA,E,gGAAA,8GACA,KACA,KAFA,SAIA,IACA,OACA,kBAMA,OALA,oBACA,SACA,uBACA,gBAEA,KACA,6DAbA,gCAeA,GAfA,2C,iCAkBA,E,gGAAA,4GACA,KADA,SAGA,IACA,OACA,kBAGA,OAFA,iDACA,SACA,KACA,sEATA,gCAWA,GAXA,2C,wBAeA,OACE,KAAF,kBACE,KAFF,WAGI,MAAJ,CACM,QAAN,yDACM,QAAN,GACM,YAAN,GACM,SAAN,KAGE,QAVF,WAUI,IAAJ,OAAI,OAAJ,mJACA,0CADA,SAEA,KAFA,UAEA,cAFA,QAGA,yBAHA,gCAKA,qBALA,8CAQE,QAAF,CACI,iBADJ,WACM,IAAN,OAAM,OAAN,yJACA,qDADA,SAEA,KAFA,cAEA,EAFA,OAGA,qCACA,aAEA,sDANA,SAOA,KAPA,OAOA,EAPA,OAQA,GAKA,iCACA,yCAJA,aAVA,gDAmBE,SAAF,CACI,QADJ,WAEM,MAAN,mBAEA,+DAEA,MCvHqV,I,wBCQjVC,EAAY,eACd,EACA9B,EACA6B,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/chunk-177475f6.3a6329ad.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Submissions.vue?vue&type=style&index=0&id=5ad5647a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Submissions.vue?vue&type=style&index=0&id=5ad5647a&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"centered\"},[_c('b-form-select',{staticClass:\"select\",attrs:{\"options\":_vm.allFormsIds,\"autofocus\":\"\",\"size\":\"md\"},on:{\"change\":_vm.setAnswersOfForm},scopedSlots:_vm._u([{key:\"first\",fn:function(){return [_c('b-form-select-option',{attrs:{\"value\":null,\"disabled\":\"\"}},[_vm._v(\"-- Please select a form first --\")])]},proxy:true}]),model:{value:(_vm.form_id),callback:function ($$v) {_vm.form_id=$$v},expression:\"form_id\"}}),(_vm.form_id != null && _vm.form_id >= 0)?_c('div',[_c('h3',[_vm._v(_vm._s(_vm.heading))]),(_vm.answers.length > 0)?_c('b-table',{attrs:{\"striped\":\"\",\"hover\":\"\",\"stacked\":\"md\",\"outlined\":\"\",\"no-border-collapse\":\"\",\"items\":_vm.answers}}):_c('h4',[_vm._v(\"No Submissions Yet\")])],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"centered\">\r\n    <b-form-select\r\n      v-model=\"form_id\"\r\n      :options=\"allFormsIds\"\r\n      autofocus\r\n      @change=\"setAnswersOfForm\"\r\n      size=\"md\"\r\n      class=\"select\">\r\n      <template v-slot:first>\r\n        <b-form-select-option :value=\"null\" disabled>-- Please select a form first --</b-form-select-option>\r\n      </template>\r\n    </b-form-select>\r\n    <div v-if=\"form_id != null && form_id >= 0\" >\r\n      <h3>{{heading}}</h3>\r\n      <b-table v-if=\"answers.length > 0\" striped hover stacked=\"md\" outlined no-border-collapse :items=\"answers\"></b-table>\r\n      <h4 v-else>No Submissions Yet</h4>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n  import axios from \"axios\";\r\n\r\n  async function getAnswers(url) {\r\n    let answers;\r\n\r\n    await axios\r\n      .get(url)\r\n      .then(response => {\r\n        console.log(response.data)\r\n        answers = response.data;\r\n        return answers;\r\n      }).catch(response=> {\r\n        console.log(\"No answers found\");\r\n        return null;\r\n      })\r\n\r\n    return answers\r\n  }\r\n\r\n  async function getForms(url) {\r\n    let forms = [];\r\n    let forms_id = [];\r\n\r\n    await axios\r\n      .get(url)\r\n      .then(response => {\r\n        console.log(response.data)\r\n        forms = response.data;\r\n        forms.forEach((form) => {\r\n          forms_id.push(form.id)\r\n        })\r\n        return forms_id;\r\n      }).catch(response=> console.log(\"No answers found\"))\r\n\r\n    return forms_id\r\n  }\r\n\r\n  async function getFormName(url) {\r\n    let name = \"\";\r\n\r\n    await axios\r\n      .get(url)\r\n      .then(response => {\r\n        console.log(\"name is = \" + JSON.stringify(response.data))\r\n        name = response.data;\r\n        return name;\r\n      }).catch(response=> console.log(\"This form does not exists\"))\r\n\r\n    return name;\r\n  }\r\n\r\n\r\n  export default {\r\n    name: \"Submissions.vue\",\r\n    data() {\r\n      return {\r\n        form_id: this.$route.params.formId ? this.$route.params.formId : null,\r\n        answers: [],\r\n        allFormsIds: [],\r\n        formName: \"\",\r\n      }\r\n    },\r\n    async mounted() {\r\n      let url = this.$root.store.baseUrl + \"forms/all_forms\";\r\n      this.allFormsIds = await getForms(url);\r\n      if(this.form_id || this.form_id === 0)\r\n      {\r\n        await this.setAnswersOfForm()\r\n      }\r\n    },\r\n    methods: {\r\n      async setAnswersOfForm() {\r\n        let nameUrl = this.$root.store.baseUrl + \"forms/form_name/\" + this.form_id;\r\n        const name = await getFormName(nameUrl);\r\n        console.log(\"Function Name is = \" + name);\r\n        this.formName = name;\r\n\r\n        let url = this.$root.store.baseUrl + \"forms/submission/\" + this.form_id;\r\n        const response = await getAnswers(url);\r\n        if(!response)\r\n        {\r\n          this.answers = [];\r\n        }\r\n        else{\r\n          console.log(\"Got the response=\")\r\n          this.answers = JSON.parse(JSON.stringify(response))\r\n        }\r\n\r\n      }\r\n    },\r\n    computed: {\r\n      heading() {\r\n        if (this.formName !== \"\")\r\n        {\r\n          return \"You are watching \" + this.formName.toUpperCase() + \" Submissions\"\r\n        }\r\n        return \"\"\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .centered {\r\n    width: 85%;\r\n    left: 0;\r\n    transform: translateX(10%);\r\n  }\r\n  .select {\r\n    width: 30%;\r\n    margin-bottom: 20px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Submissions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Submissions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Submissions.vue?vue&type=template&id=5ad5647a&scoped=true&\"\nimport script from \"./Submissions.vue?vue&type=script&lang=js&\"\nexport * from \"./Submissions.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Submissions.vue?vue&type=style&index=0&id=5ad5647a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ad5647a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
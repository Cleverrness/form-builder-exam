{"version":3,"sources":["webpack:///./src/views/Submissions.vue?78bd","webpack:///./src/views/Submissions.vue?9925","webpack:///src/views/Submissions.vue","webpack:///./src/views/Submissions.vue?6d16","webpack:///./src/views/Submissions.vue?0d9a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","allFormsIds","on","setAnswersOfForm","scopedSlots","_u","key","fn","_v","proxy","model","value","callback","$$v","form_id","expression","formName","_s","_f","_e","answers","length","staticRenderFns","component"],"mappings":"kHAAA,yBAA0e,EAAG,G,kECA7e,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,gBAAgB,CAACE,YAAY,SAASC,MAAM,CAAC,QAAUP,EAAIQ,YAAY,UAAY,GAAG,KAAO,MAAMC,GAAG,CAAC,OAAST,EAAIU,kBAAkBC,YAAYX,EAAIY,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACV,EAAG,uBAAuB,CAACG,MAAM,CAAC,MAAQ,KAAK,SAAW,KAAK,CAACP,EAAIe,GAAG,wCAAwCC,OAAM,KAAQC,MAAM,CAACC,MAAOlB,EAAW,QAAEmB,SAAS,SAAUC,GAAMpB,EAAIqB,QAAQD,GAAKE,WAAW,aAA6B,MAAftB,EAAIqB,SAAmBrB,EAAIqB,SAAW,EAAGjB,EAAG,MAAM,CAAmB,KAAjBJ,EAAIuB,SAAiBnB,EAAG,KAAK,CAACJ,EAAIe,GAAG,qBAAqBX,EAAG,OAAO,CAACG,MAAM,CAAC,GAAK,oBAAoB,CAACP,EAAIe,GAAGf,EAAIwB,GAAGxB,EAAIyB,GAAG,QAAPzB,CAAgBA,EAAIuB,cAAcvB,EAAIe,GAAG,kBAAkBf,EAAI0B,KAAM1B,EAAI2B,QAAQC,OAAS,EAAGxB,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,GAAG,QAAU,GAAG,MAAQ,GAAG,QAAU,KAAK,SAAW,GAAG,qBAAqB,GAAG,MAAQP,EAAI2B,WAAWvB,EAAG,KAAK,CAACJ,EAAIe,GAAG,yBAAyB,GAAGf,EAAI0B,MAAM,IACx9BG,EAAkB,G,0EC6BtB,E,gGAAA,qHAGA,IACA,OACA,kBAGA,OAFA,oBACA,SACA,KACA,mBAEA,OADA,gCACA,QAXA,gCAcA,GAdA,2C,iCAsBA,E,gGAAA,8GACA,KACA,KAFA,SAIA,IACA,OACA,kBAMA,OALA,oBACA,SACA,uBACA,gBAEA,KACA,2DAbA,gCAeA,GAfA,2C,iCAuBA,E,gGAAA,4GACA,KADA,SAGA,IACA,OACA,kBAGA,OAFA,iDACA,SACA,KACA,sEATA,gCAWA,GAXA,2C,wBAeA,OACE,KAAF,kBACE,KAFF,WAGI,MAAJ,CACM,QAAN,yDACM,QAAN,GACM,YAAN,GACM,SAAN,KAGE,QAVF,WAUI,IAAJ,OAAI,OAAJ,mJAEA,0CAFA,SAGA,KAHA,UAGA,cAHA,QAIA,yBAJA,gCAMA,qBANA,8CASE,QAAF,CACI,iBADJ,WACM,IAAN,OAAM,OAAN,yJAEA,qDAFA,SAGA,KAHA,cAGA,EAHA,OAIA,qCACA,aAGA,sDARA,SASA,KATA,OASA,EATA,OAUA,GAKA,iCACA,yCAJA,aAZA,gDAqBE,QAAF,CACI,MADJ,SACA,GACM,OAAN,mBCrIqV,I,wBCQjVC,EAAY,eACd,EACA/B,EACA8B,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/chunk-62610734.57e8d3ef.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Submissions.vue?vue&type=style&index=0&id=65ddfb91&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Submissions.vue?vue&type=style&index=0&id=65ddfb91&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"centered\"},[_c('b-form-select',{staticClass:\"select\",attrs:{\"options\":_vm.allFormsIds,\"autofocus\":\"\",\"size\":\"md\"},on:{\"change\":_vm.setAnswersOfForm},scopedSlots:_vm._u([{key:\"first\",fn:function(){return [_c('b-form-select-option',{attrs:{\"value\":null,\"disabled\":\"\"}},[_vm._v(\"-- Please select a form first --\")])]},proxy:true}]),model:{value:(_vm.form_id),callback:function ($$v) {_vm.form_id=$$v},expression:\"form_id\"}}),(_vm.form_id != null && _vm.form_id >= 0)?_c('div',[(_vm.formName !== '')?_c('h3',[_vm._v(\"You are watching \"),_c('span',{attrs:{\"id\":\"form-name-color\"}},[_vm._v(_vm._s(_vm._f(\"Upper\")(_vm.formName)))]),_vm._v(\" Submissions\")]):_vm._e(),(_vm.answers.length > 0)?_c('b-table',{attrs:{\"dark\":\"\",\"striped\":\"\",\"hover\":\"\",\"stacked\":\"md\",\"outlined\":\"\",\"no-border-collapse\":\"\",\"items\":_vm.answers}}):_c('h4',[_vm._v(\"No Submissions Yet\")])],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"centered\">\r\n    <b-form-select\r\n      v-model=\"form_id\"\r\n      :options=\"allFormsIds\"\r\n      autofocus\r\n      @change=\"setAnswersOfForm\"\r\n      size=\"md\"\r\n      class=\"select\">\r\n      <template v-slot:first>\r\n        <b-form-select-option :value=\"null\" disabled>-- Please select a form first --</b-form-select-option>\r\n      </template>\r\n    </b-form-select>\r\n    <div v-if=\"form_id != null && form_id >= 0\" >\r\n      <h3 v-if=\"formName !== ''\">You are watching <span id=\"form-name-color\">{{formName| Upper}}</span> Submissions</h3>\r\n      <b-table v-if=\"answers.length > 0\" dark striped hover stacked=\"md\" outlined no-border-collapse :items=\"answers\"></b-table>\r\n      <h4 v-else>No Submissions Yet</h4>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n  import axios from \"axios\";\r\n\r\n  /**\r\n   * This function is getting the answers of a specific form by its id\r\n   * @param url to get form answers\r\n   * @returns {Promise<Array>}\r\n   * */\r\n  async function getAnswers(url) {\r\n    let answers;\r\n\r\n    await axios\r\n      .get(url)\r\n      .then(response => {\r\n        console.log(response.data)\r\n        answers = response.data;\r\n        return answers;\r\n      }).catch(response=> {\r\n        console.log(\"No answers found\");\r\n        return null;\r\n      })\r\n\r\n    return answers\r\n  }\r\n\r\n  /**\r\n   * This function is getting the forms ids to use in the selector at the start of the page\r\n   * @param url to get forms\r\n   * @returns {Promise<Array>}\r\n   */\r\n  async function getForms(url) {\r\n    let forms = [];\r\n    let forms_id = [];\r\n\r\n    await axios\r\n      .get(url)\r\n      .then(response => {\r\n        console.log(response.data)\r\n        forms = response.data;\r\n        forms.forEach((form) => {\r\n          forms_id.push(form.id)\r\n        })\r\n        return forms_id;\r\n      }).catch(response=> console.log(\"No forms found\"))\r\n\r\n    return forms_id\r\n  }\r\n\r\n  /**\r\n   * This Function is getting the form name by its ID\r\n   * @param url the url to get form name\r\n   * @returns {Promise<string>}\r\n   */\r\n  async function getFormName(url) {\r\n    let name = \"\";\r\n\r\n    await axios\r\n      .get(url)\r\n      .then(response => {\r\n        console.log(\"name is = \" + JSON.stringify(response.data))\r\n        name = response.data;\r\n        return name;\r\n      }).catch(response=> console.log(\"This form does not exists\"))\r\n\r\n    return name;\r\n  }\r\n\r\n\r\n  export default {\r\n    name: \"Submissions.vue\",\r\n    data() {\r\n      return {\r\n        form_id: this.$route.params.formId ? this.$route.params.formId : null,\r\n        answers: [],\r\n        allFormsIds: [],\r\n        formName: \"\",\r\n      }\r\n    },\r\n    async mounted() {\r\n      // Get the list of all forms IDs in the DB\r\n      let url = this.$root.store.baseUrl + \"forms/all_forms\";\r\n      this.allFormsIds = await getForms(url);\r\n      if(this.form_id || this.form_id === 0)\r\n      {\r\n        await this.setAnswersOfForm()\r\n      }\r\n    },\r\n    methods: {\r\n      async setAnswersOfForm() {\r\n        // Get the form name by its ID\r\n        let nameUrl = this.$root.store.baseUrl + \"forms/form_name/\" + this.form_id;\r\n        const name = await getFormName(nameUrl);\r\n        console.log(\"Function Name is = \" + name);\r\n        this.formName = name;\r\n\r\n        // Get the form answers by its ID\r\n        let url = this.$root.store.baseUrl + \"forms/submission/\" + this.form_id;\r\n        const response = await getAnswers(url);\r\n        if(!response)\r\n        {\r\n          this.answers = [];\r\n        }\r\n        else{\r\n          console.log(\"Got the response=\")\r\n          this.answers = JSON.parse(JSON.stringify(response))\r\n        }\r\n\r\n      }\r\n    },\r\n    filters: {\r\n      Upper(value) {\r\n        return value.toUpperCase();\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .centered {\r\n    width: 85%;\r\n    left: 0;\r\n    transform: translateX(10%);\r\n  }\r\n  .select {\r\n    width: 30%;\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  #form-name-color{\r\n    background: -webkit-linear-gradient(#3f5efb, #fc466b);\r\n    -webkit-background-clip: text;\r\n    -webkit-text-fill-color: transparent;\r\n    font-weight: bold;\r\n    font-size: 50px;\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Submissions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Submissions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Submissions.vue?vue&type=template&id=65ddfb91&scoped=true&\"\nimport script from \"./Submissions.vue?vue&type=script&lang=js&\"\nexport * from \"./Submissions.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Submissions.vue?vue&type=style&index=0&id=65ddfb91&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65ddfb91\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}